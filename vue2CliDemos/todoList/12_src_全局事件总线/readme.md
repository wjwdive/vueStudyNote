# 全局事件总线:任意组件间通信

## 总线必须具有以下两个性质：
1.让所有组件都看到他<br>
2.$on, $off，$emit

## 定义全局事件总线，事件名避免重复，可以咋这里统一定义常量，避免重复。其他组件引用即可
 
## 全局事件总线的事件需要在 组件销毁时，取消事件总线事件

*自定义事件不需要在 beforeDestory里销毁。因为自定义事件是的生命周期是跟随组件的*

3.使用事件总线
3.1.接收数据：A组件想接收数据，则在A组件中给$bus 绑定自定义事件，时间的回调留在A组件自身
```
methods() {
    demo(data){

    }
},
mounted() {
    this.$bus.$on('xxx', demo)
}

```
3.2.提供数据：
this.$bus.$emit('xxx',data)

4.最好在beforeDestory钩子中，用$off去解绑当前组件用到的事件。不要$off(),这样会把总线中的所有事件取消。

多层组件传递数据，事件适合用全局事件组件。